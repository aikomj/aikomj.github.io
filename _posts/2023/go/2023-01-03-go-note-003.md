---
layout: post
title: GO流程控制
category: go
tags: [go]
keywords: go
excerpt: 
lock: noneed
---

程序的流程控制结构共有三种：顺序结构、选择结构、循环结构

- 顺序结构：从上到下，逐步执行，默认的逻辑
- 选择结构：条件满足某些代码才会执行
  - if,else if, else
  - switch
  - select ,channel
- 循环结构，条件满足某些代码被反复执行0-N次
  - for

## 1、if语句

```go
package main

import "fmt"

func main() {

	var score int = 50
	if score >= 90 && score <= 100 {
		fmt.Println("A")
	} else if score >= 80 && score < 90 {
		fmt.Println("B")
	} else if score >= 70 && score < 80 {
		fmt.Println("C")
	} else if score >= 60 && score < 70 {
		fmt.Println("D")
	} else {
		fmt.Println("不及格")
	}
}
```

> if 多重嵌套

```go
func main() {
	var a, b int
	var pwd int = 20221020
	// 验证密码正确
	fmt.Print("请输入密码:")
	fmt.Scan(&a) // 阻塞等待输入，输入值赋值到变量a
	// 业务：验证密码输入是否正确
	if a == pwd {
		fmt.Print("请再次输入密码：")
		fmt.Scan(&b)
		if b == pwd {
			fmt.Println("登录成功")
		} else {
			fmt.Println("登录失败，第二次输入密码错误2022")
		}
	} else {
		fmt.Print("登录失败，密码输入错误")
	}
}
```

执行结果：

```sh
请输入密码:20221020
请再次输入密码：20221020
登录成功
```

## 2、switch语句

go语言同样提供switch语句，与java一样，语法：

```go
switch var0 {
case var1 :
  ...
case var2 :
  ...
  default :
  ...
}
```

示例

```go
package main

import "fmt"

func main() {
	var score int = 90
	// 匹配
	switch score {
	case 90:
		fmt.Println("A")
	case 80:
		fmt.Println("B")
	case 60, 70:
		fmt.Println("C")
	default:
		fmt.Println("D")
	}
}

	// switch 默认的条件 bool = true
	switch {
	case false:
		fmt.Println("false")
	case true:
		fmt.Println("true")
	default:
		fmt.Println("其他")
	}
```

### fallthrough 贯穿

switch默认情况下匹配成功后就不会执行其他case，如果我们需要执行后面的case，可以使用`fallthrough`穿透case

使用fallthrough 会强制执行后面的case语句，不会去判断下一条case的表达式结果是否为true

```go
func main() {
	a := false
	switch a {
	case false:
		fmt.Println("1、case条件为false")
	case true:
		fmt.Println("2、case条件为true")
	}
}
```

执行结果：

```sh
1、case条件为false
```

增加fallthrough后

```go
func main() {
	a := false
	switch a {
	case false:
		fmt.Println("1、case条件为false")
		fallthrough // case穿透，不管下一个条件是否满足，都会执行
	case true:
		fmt.Println("2、case条件为true")
	default:
		fmt.Println("3、其他")
	}
}
```

执行结果：

```sh
1、case条件为false
2、case条件为true
```

增加break跳出switch，结束`fallthrough`

```go
func main() {
	a := false
	switch a {
	case false:
		fmt.Println("1、case条件为false")
		fallthrough // case穿透，不管下一个条件是否满足，都会执行
	case true:
		if a == false {
			break // 跳出switch
		}
		fmt.Println("2、case条件为true")
	default:
		fmt.Println("3、其他")
	}
}
```

多个fallthrough

```go
func main() {
	var score int = 90
	// 匹配
	switch score {
	case 90:
		fmt.Println("A")
		fallthrough
	case 80:
		fmt.Println("B")
		fallthrough
	case 60, 70:
		fmt.Println("C")
		fallthrough
	default:
		fmt.Println("D")
	}
}
```













